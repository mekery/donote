(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"3eee":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("auth-page",{staticClass:"page-auth-reset"},[o("template",{slot:"content"},[o("section",{staticClass:"row q-mb-md methods o-tabs with-bottom-border",class:e.isMobile?"":"q-pt-md"},[o("q-tabs",{staticClass:"text-white",attrs:{align:"left",shrink:""},on:{input:e.onMethodChanged},model:{value:e.method,callback:function(t){e.method=t},expression:"method"}},[o("q-tab",{attrs:{name:"phone",label:e.$t("label.phone")}}),o("q-tab",{attrs:{name:"email",label:e.$t("label.email")}})],1)],1),"phone"==e.method?o("div",{staticClass:"fields"},[e._e(),o("div",{staticClass:"row justify-between items-start q-col-gutter-x-sm"},[o("q-input",{staticClass:"col-12",attrs:{label:e.$t("label.phone"),"error-message":"Phone is required.","bottom-slots":"",standout:"",clearable:"",error:e.$v.form.phone.$error},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),o("div",{staticClass:"items-center"},[o("div",{staticClass:"row justify-between items-start q-col-gutter-x-sm"},[o("div",{staticClass:"col-8"},[o("q-input",{ref:"phoneVcode",attrs:{label:e.$t("label.vcode"),suffix:e.suffix,"bottom-slots":"",standout:"",clearable:"",error:e.$v.form.vcode.$error},model:{value:e.form.vcode,callback:function(t){e.$set(e.form,"vcode",t)},expression:"form.vcode"}})],1),o("div",{staticClass:"row col-4 items-center request-code"},[o("q-btn",{staticClass:"o-full shadow-0",attrs:{color:"primary",label:e.$t("label.send")},on:{click:e.onRequestCode}})],1)])]),o("q-input",{attrs:{type:"password",label:e.$t("label.password"),"bottom-slots":"",standout:"",clearable:"",error:e.$v.form.password.$error},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSignin(t)}},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v("\n          6-22 characters.\n        ")]},proxy:!0}],null,!1,841674425),model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),"email"==e.method?o("div",{staticClass:"fields"},[o("q-input",{attrs:{label:e.$t("label.email"),"bottom-slots":"",standout:"",clearable:"",error:e.$v.formEmail.email.$error},model:{value:e.formEmail.email,callback:function(t){e.$set(e.formEmail,"email",t)},expression:"formEmail.email"}}),o("div",{staticClass:"items-center",attrs:{icon:"code"}},[o("div",{staticClass:"row justify-between items-start q-col-gutter-x-sm"},[o("div",{staticClass:"col-8"},[o("q-input",{ref:"emailVcode",attrs:{label:e.$t("label.vcode"),suffix:e.suffix,"bottom-slots":"",standout:"",clearable:"",error:e.$v.formEmail.vcode.$error},model:{value:e.formEmail.vcode,callback:function(t){e.$set(e.formEmail,"vcode",t)},expression:"formEmail.vcode"}})],1),o("div",{staticClass:"row col-4 items-center request-code"},[o("q-btn",{staticClass:"o-full",attrs:{color:"primary",label:e.$t("label.send")},on:{click:e.onRequestCode}})],1)])]),o("q-input",{attrs:{type:"password",label:e.$t("label.password"),"bottom-slots":"",standout:"",clearable:"",error:e.$v.formEmail.password.$error},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSignin(t)}},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v("\n          6-22 characters.\n        ")]},proxy:!0}],null,!1,841674425),model:{value:e.formEmail.password,callback:function(t){e.$set(e.formEmail,"password",t)},expression:"formEmail.password"}})],1):e._e(),o("div",{staticClass:"actions row justify-center"},[o("q-btn",{staticClass:"action color-button",attrs:{label:e.$t("label.reset")},on:{click:e.onReset}},[o("q-spinner-ios",{attrs:{slot:"loading"},slot:"loading"})],1)],1)]),o("template",{slot:"footer"},[o("section",{staticClass:"row justify-center items-center full-height"},[o("q-btn",{staticClass:"action",attrs:{color:"white",label:e.$t("label.signin"),flat:""},on:{click:function(t){return e.$router.push("/auth/signin")}}}),o("span",{staticClass:"q-mx-md text-grey-6"},[e._v("|")]),o("q-btn",{staticClass:"action",attrs:{color:"white",label:e.$t("label.signup"),flat:""},on:{click:function(t){return e.$router.push("/auth/signup")}}})],1)])],2)},a=[],s=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("c47a")),n=o.n(s),i=o("6907"),l=o("ed08"),c=o("b0b9"),m=o("d727"),u=o("2f62"),d=o("b5ae"),f=o("f095");function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function b(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){n()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var p={name:"auth-reset",data:function(){return{method:"email",remember:!0,form:{phone:"",vcode:"",password:""},formEmail:{vcode:"",password:"",email:""},countryCode:"86",countryCodes:i["b"],counter:0}},validations:{form:{phone:{required:d["required"]},vcode:{required:d["required"]},password:{required:d["required"],minLength:Object(d["minLength"])(6),maxLength:Object(d["maxLength"])(22)}},formEmail:{email:{required:d["required"],email:d["email"]},vcode:{required:d["required"]},password:{required:d["required"],minLength:Object(d["minLength"])(6),maxLength:Object(d["maxLength"])(22)}}},components:{AuthPage:f["a"]},methods:{onMethodChanged:function(e){"phone"===this.method?(this.form.email="user@example.com",this.form.phone=""):"email"===this.method&&(this.form.email="",this.form.phone="phone")},onRequestCode:function(){"phone"===this.method?this.getVcodeByPhone():"email"===this.method&&this.getVcodeByEmail()},onReset:function(){"phone"===this.method?this.resetByPhone():"email"===this.method&&this.resetByEmail()},getVcodeByPhone:function(){var e=this;if(this.$v.form.phone.$touch(),this.$v.form.phone.$error)Object(c["f"])("Incorrect Phone.");else{var t={code:this.countryCode,phone:this.form.phone};Object(m["k"])(t).then((function(t){Object(c["e"])("Please receive code in your phone."),e.countDown(60),e.$refs.phoneVcode.focus()})).catch((function(t){var o=t.response.data;e.$q.notify(o.msg)}))}},getVcodeByEmail:function(){var e=this;if(this.$v.formEmail.email.$touch(),this.$v.formEmail.email.$error)Object(c["f"])("Incorrect Email.");else{var t={email:this.formEmail.email};Object(m["j"])(t).then((function(t){Object(c["e"])("Please receive code in your email."),e.countDown(60),e.$refs.emailVcode.focus()})).catch((function(t){var o=t.response.data;e.$q.notify(o.msg)}))}},resetByPhone:function(){var e=this;if(this.$v.form.$touch(),this.$v.form.$error)Object(c["f"])("Please review fields again.");else{var t={dialingcode:this.countryCode,vcode:this.form.vcode,phone:this.form.phone,pwd:Object(l["d"])("SHA-1",this.form.password)};Object(m["h"])(t).then((function(t){Object(c["e"])("Reset completed. "),e.$router.push("/auth/signin")})).catch((function(t){var o=t.response.data;console.log("err data",o),e.$q.notify(o.msg)}))}},resetByEmail:function(){var e=this;if(this.$v.formEmail.$touch(),this.$v.formEmail.$error)Object(c["f"])("Please review fields again.");else{var t={vcode:this.formEmail.vcode,email:this.formEmail.email,pwd:Object(l["d"])("SHA-1",this.formEmail.password)};Object(m["g"])(t).then((function(t){Object(c["e"])("Reset completed. "),e.$router.push("/auth/signin")})).catch((function(t){var o=t.response.data;console.log("err data",o),e.$q.notify(o.msg)}))}},countDown:function(e){var t=this;this.counter=e-1,this.counter>0&&setTimeout((function(){t.countDown(t.counter)}),1e3)}},computed:b({},Object(u["c"])({qnotes:"qnotes",currentQTag:"currentQTag",currentColor:"currentColor",qtags:"qtags"}),{suffix:function(){var e="";return this.counter>0&&(e="".concat(this.counter,"s")),e},methodsGlobal:function(){return[{label:"Phone",value:"phone",icon:"smartphone"},{label:"Email",value:"email",icon:"email"},{label:"Google",value:"google",icon:"mdi-google"},{label:"Twitter",value:"twitter",icon:"mdi-twitter"},{label:"Facebook",value:"facebook",icon:"mdi-facebook"}]},methodsCn:function(){return[{label:this.$t("label.phone"),value:"phone",icon:"smartphone"},{label:this.$t("label.email"),value:"email",icon:"email"}]}}),watch:{$route:function(e,t){}},created:function(){this.$emit("viewChanged","notebooks")},mounted:function(){}},v=p,$=(o("80c1"),o("2877")),g=Object($["a"])(v,r,a,!1,null,null,null);t["default"]=g.exports},"5b68":function(e,t,o){},"80c1":function(e,t,o){"use strict";var r=o("5b68"),a=o.n(r);a.a}}]);