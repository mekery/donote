(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{"0f65":function(o,t,e){},"5d8f":function(o,t,e){"use strict";var n=e("0f65"),i=e.n(n);i.a},"781c":function(o,t,e){},a11b:function(o,t,e){"use strict";e.r(t);var n=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("q-page",{staticClass:"m-page-notebook row col-12"},[e("top-page-header",{attrs:{title:"笔记本"}},[e("template",{slot:"right-actions"},[e("q-btn",{attrs:{icon:"add",round:"",flat:""},on:{click:function(t){return o.onAction("add-notebook")}}})],1)],2),e("q-scroll-area",{ref:"scrollarea",staticClass:"o-scrollarea-notebooks"},[e("q-list",{ref:"list",staticClass:"o-navi-list",attrs:{"no-border":"",link:"","inset-delimiter":""}},[e("o-notebook-item",{ref:"notebookDefault",attrs:{icon:"book",label:o.$t("label.default"),"side-menu":!1,active:o.activeNotebooks["a_default"],clickable:""},nativeOn:{click:function(t){t.stopPropagation(),o.onOpenNotebook({id:"default",name:o.$t("note.default")})}}}),e("o-notebook-item",{ref:"notebookStar",attrs:{icon:"star",label:o.$t("label.starred"),"side-menu":!1,active:o.activeNotebooks["a_star"],clickable:""},nativeOn:{click:function(t){t.stopPropagation(),o.onOpenNotebook({id:"star",name:o.$t("note.starred")})}}}),e("o-notebook-tree",{attrs:{children:o.filteredParentNotebooks},on:{move:o.onMove}}),e("o-notebook-item",{ref:"notebookAll",attrs:{icon:"apps","side-menu":!1,label:o.$t("label.all"),active:o.activeNotebooks["a_all"],clickable:""},nativeOn:{click:function(t){t.stopPropagation(),o.onOpenNotebook({id:"all",name:o.$t("note.all")})}}}),o.adding?e("o-notebook-add-item",{attrs:{icon:"book"},on:{confirm:o.onSaveTopNotebook}}):o._e()],1)],1),e("section",[e("o-common-dialog",{attrs:{title:o.$t("action.move"),icon:"swap_vert",show:o.showMoveDialog},on:{show:o.onShow,close:o.onHide,confirm:o.onConfirm}},[e("template",{slot:"content"},[e("section",{staticClass:"relative-position"},[e("o-notebook-move-select",{attrs:{notebook:o.moveFromNotebook},on:{input:o.onSelect}})],1)])],2)],1)],1)},i=[],a=(e("8e6e"),e("8a81"),e("ac6a"),e("cadf"),e("06db"),e("456d"),e("c47a")),r=e.n(a),c=e("a026"),s=e("c28b"),l=e.n(s),b=e("0212"),u=e("e3fd"),d=e("aafa"),f=e("625b"),m=e("c16a"),p=e("916d"),k=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("header",{staticClass:"row col-12 bg-primary text-white top-page-header"},[e("section",{staticClass:"row col-12 justify-between items-center actions"},[e("div",{staticClass:"row items-center q-px-md"},[o._t("left-actions")],2),e("div",[o._t("right-actions")],2)]),e("div",{staticClass:"row col-12 justify-center items-center title"},[o._v(o._s(o.title))])])},h=[],v=e("2f62");function O(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.push.apply(e,n)}return e}function g(o){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?O(Object(e),!0).forEach((function(t){r()(o,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):O(Object(e)).forEach((function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(e,t))}))}return o}var w={name:"top-page-header",data:function(){return{}},props:{title:{type:String,default:""}},components:{},computed:g({},Object(v["c"])({isMobile:"isMobile"}))},j=w,N=(e("d89a"),e("2877")),y=Object(N["a"])(j,k,h,!1,null,null,null),P=y.exports,D=e("3ba6"),$=e("3ac3"),C=e("5809"),S=e("ed08"),T=e("6eb0");function _(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.push.apply(e,n)}return e}function M(o){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?_(Object(e),!0).forEach((function(t){r()(o,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):_(Object(e)).forEach((function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(e,t))}))}return o}c["a"].use(l.a);var q={name:"m-page-notebook",mixins:[D["a"],$["a"],C["a"]],data:function(){return{adding:!1,showMoveDialog:!1,moveFromNotebook:{},moveToNotebook:{}}},components:{TopPageHeader:P,ONotebookTree:b["a"],ONotebookItem:u["a"],ONotebookAddItem:d["a"],OCommonDialog:f["a"],ONotebookMoveSelect:m["a"],OCommonItem:p["a"]},methods:M({},Object(v["b"])({}),{init:function(){this.$store.dispatch("GetNoteBooks").then((function(o){})).catch((function(o){console.error(o)}))},onSaveTopNotebook:function(o){var t=this,e={id:Object(S["b"])(),parent:"",name:o};Object(T["d"])(e,!1).then((function(o){t.loadNotebooks()})),this.adding=!1},onMove:function(o){this.moveFromNotebook=o,this.showMoveDialog=!0},onShow:function(){this.moveToNotebook={}},onHide:function(){this.moveFromNotebook={},this.moveToNotebook={},this.showMoveDialog=!1},onSelect:function(o){this.moveToNotebook=o},onConfirm:function(){var o=this;this.moveFromNotebook.id&&this.moveToNotebook.key&&(this.moveFromNotebook.parent="top"===this.moveToNotebook.key?"":this.moveToNotebook.key,Object(T["d"])(this.moveFromNotebook,!1).then((function(t){o.loadNotebooks()})))},onAction:function(o){var t=this;switch(o){case"add-note":o=(new Date).getTime()+"|action-add",this.$store.commit("setNoteAction",o);break;case"add-notebook":setTimeout((function(){t.adding=!0}),100);break;case"add-quicknote":this.$router.push("/quicknote");break}},onRoute:function(o){}}),computed:M({},Object(v["c"])({})),watch:{$route:function(o,t){this.onRoute(o)}},created:function(){this.$emit("viewChanged","editor")},mounted:function(){this.init(),this.onRoute(this.$route)}},F=q,E=(e("5d8f"),Object(N["a"])(F,n,i,!1,null,null,null));t["default"]=E.exports},d89a:function(o,t,e){"use strict";var n=e("781c"),i=e.n(n);i.a}}]);