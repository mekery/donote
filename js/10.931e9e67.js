(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"0a60":function(t,e,n){},"1d8c":function(t,e,n){},"24e9":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"page-quicknote row",on:{paste:function(e){return e.stopPropagation(),t.onPaste(e)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showProgress,expression:"showProgress"}],staticClass:"topProgress"},[n("div",{staticClass:"progress-bg bg-primary"}),n("div",{staticClass:"progress-text"},[n("span",{staticClass:"text-primary"},[t._v(t._s(t.$t("label.refresh")))]),n("q-spinner",{staticStyle:{"margin-left":"1rem"},attrs:{color:"primary",size:36}})],1)]),n("q-scroll-area",{ref:"qnoteScroll",staticClass:"quicknote-wrapper"},[n("q-scroll-observer",{on:{scroll:t.onScroll}}),n("section",{staticClass:"o-cards-wrapper col-12 preview"},[t.qnoteMap.length>0?["list"===t.view?n("quicknote-list",{attrs:{qnoteMap:t.qnoteMap},on:{edit:t.editQNote,remove:t.beforeDelete,card:t.generateCard,preview:t.onPreviewGG},nativeOn:{paste:function(e){return e.stopPropagation(),t.onPaste(e)}}}):"card"===t.view?n("quicknote-cards",{attrs:{qnoteMap:t.qnoteMap},on:{edit:t.editQNote,remove:t.beforeDelete,card:t.generateCard,preview:t.onPreviewGG},nativeOn:{paste:function(e){return e.stopPropagation(),t.onPaste(e)}}}):n("quicknote-timeline",{attrs:{qnoteMap:t.qnoteMap},on:{edit:t.editQNote,remove:t.beforeDelete,card:t.generateCard,preview:t.onPreviewGG},nativeOn:{paste:function(e){return e.stopPropagation(),t.onPaste(e)}}})]:[t.requested?n("quicknote-guide",{attrs:{qnoteSize:t.quicknotes.length}}):t._e()]],2)],1),n("section",{staticClass:"quicknote-editor quicknote-step-0"},[n("div",{staticClass:"toolbar"},[n("q-btn",{attrs:{icon:"attachment",flat:""}},[n("input",{staticClass:"o-input-file",attrs:{type:"file"},on:{change:t.onFileChanged}}),n("q-tooltip",{staticClass:"o-tooltip",attrs:{anchor:"top middle",self:"bottom middle",offset:[0,8]}},[t._v("\n          "+t._s(t.$t("action.upload.file"))+"\n        ")])],1),n("q-btn",{attrs:{icon:"add",flat:""}},[n("q-tooltip",{staticClass:"o-tooltip",attrs:{anchor:"top middle",self:"bottom middle",offset:[0,8]}},[t._v("\n          "+t._s(t.$t("action.add"))+"\n        ")])],1)],1),n("div",{staticClass:"editor"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{id:"editor",tabindex:"1",placeholder:t.$t("label.sendnote"),rows:"4",autofocus:!0},domProps:{value:t.text},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),t.onSubmit(e))},paste:function(e){return e.stopPropagation(),t.onPasteInEditor(e)},input:function(e){e.target.composing||(t.text=e.target.value)}}})])]),n("section",[n("o-file-upload",{attrs:{title:t.$t("action.upload"),contentCss:{padding:"20px",minHeight:"60vh",minWidth:"50vw"},show:t.showUploader,file:t.file},on:{close:function(e){t.showUploader=!1},uploaded:t.onFileUploaded}}),n("o-side-dialog",{attrs:{title:"Quick Note","content-class":"qnote-editor",contentStyle:{width:"600px"},show:t.showSideDialog,actionVisible:!0},on:{show:t.onSideDialogOpen,close:function(e){t.showSideDialog=!1},confirm:t.update}},[n("template",{slot:"content"},[n("section",{staticClass:"row col-12 justify-center items-center"},[n("section",{staticClass:"col-12"},[n("qnote-markdown-editor",{attrs:{id:t.qnote.id},model:{value:t.qnote.text,callback:function(e){t.$set(t.qnote,"text",e)},expression:"qnote.text"}})],1),n("section",{staticClass:"col-12 q-py-md meta"},[n("q-select",{attrs:{options:t.qtagOptions,label:t.$t("label.qtag"),"use-input":"","input-debounce":"0",filled:"","map-options":"","emit-value":""},on:{filter:t.filterFn},scopedSlots:t._u([{key:"before",fn:function(){return[n("q-icon",{attrs:{name:"bookmark"}})]},proxy:!0}]),model:{value:t.qnote.qtag,callback:function(e){t.$set(t.qnote,"qtag",e)},expression:"qnote.qtag"}}),n("q-field",{attrs:{borderless:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"access_time"}})]},proxy:!0},{key:"control",fn:function(){return[n("div",{attrs:{tabindex:"0"}},[t._v(t._s(t.qnote.addtime))])]},proxy:!0}])})],1)])])],2),n("o-side-dialog",{attrs:{title:"生成卡片","content-class":"qnote-card",contentStyle:{width:"375px"},show:t.showCard,actionVisible:!1,"confirm-label":"下载"},on:{show:t.onPrepareCard,close:function(e){t.showCard=!1,t.cardImg=""},confirm:t.onDownloadCard}},[n("template",{slot:"content"},[n("q-scroll-area",{staticClass:"scroll-area-content"},[t.cardImg?n("section",{staticClass:"image"},[n("img",{attrs:{src:t.cardImg}})]):n("section",{staticClass:"full-height snapshot preview"},[t.cardData.text?n("section",{staticClass:"qnote-container",domProps:{innerHTML:t._s(t.renderMarkdown(t.cardData.text))}}):t._e(),n("section",{staticClass:"row col-12 justify-center q-pa-md logo"},[n("img",{attrs:{src:"statics/logo.png",height:"20"}}),n("span",{staticClass:"q-ml-xs text-grey"},[t._v(t._s(t.$t("app.name")))])])])])],1),n("template",{slot:"actions"},[n("q-btn",{staticClass:"col-6",attrs:{color:"primary",label:"下载",loading:t.cardLoading},on:{click:t.onDownloadCard}})],1)],2),n("quicknote-side-panel",{attrs:{show:t.sidePanel},on:{show:t.onSidePanelShow,close:t.onSidePanelClose}})],1)],1)},i=[],a=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("456d"),n("28a5"),n("c47a")),s=n.n(a),r=(n("7f7f"),n("551c"),n("06db"),n("a026")),c=n("5777"),l=n("787d"),u=n("5822"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"quicknote-list "},[n("q-list",{ref:"micle",attrs:{"no-border":""}},[t._l(t.qnoteMap,(function(e,o){return[n("q-item",{key:o,staticClass:"qnote-starter"},[n("div",{staticClass:"o-date-divider"},[n("hr"),n("div",{staticClass:"o-date-wrapper"},[n("span",[t._v(t._s(e.date))])])])]),t._l(e.list,(function(e){return n("q-item",{key:e.id,staticClass:"qnote-item",attrs:{id:e.id,multiline:""}},[n("q-item-section",{staticClass:"cursor-pointer",attrs:{avatar:""}},[n("section",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"row justify-center items-center relative-position action",class:"bg-"+t.colorName(e)+" text-white",attrs:{color:t.colorName(e)}},[n("q-icon",{attrs:{name:t.typeClass(e.type)}}),n("q-menu",{ref:"menuPopover",refInFor:!0,staticClass:"shadow-1",attrs:{anchor:"bottom left",self:"top left"}},[n("div",{staticStyle:{"min-width":"200px"}},[n("o-qnote-menu",{attrs:{data:e},on:{edit:t.onEdit,remove:t.onRemove,card:t.onCard,preview:t.onPreview,mark:t.markQNote}})],1)])],1)]),n("q-item-section",[n("q-item-label",{staticClass:"o-qnote-time"},[n("span",[t._v(t._s(t.timeMulti(e.addtime,"HH:mm").timestamp)+"\n              "),n("q-tooltip",{staticClass:"o-tooltip",attrs:{anchor:"top middle",self:"bottom left",offset:[0,8]}},[t._v("\n                "+t._s(e.addtime)+"\n              ")])],1)]),n("q-item-label",["IMAGE"===t.typeText(e.type)?n("section",{staticClass:"type-image"},[n("img",{attrs:{src:e.url,alt:e.text,title:e.text},on:{dblclick:function(n){return t.onPreview(e)}}})]):"VIDEO"===t.typeText(e.type)?n("section",{staticClass:"type-video"},[n("video",{attrs:{src:e.url,controls:"controls",width:"100%",height:"90%"},on:{dblclick:function(n){return t.onPreview(e)}}})]):"FILE"===t.typeText(e.type)?n("section",{staticClass:"type-link"},[n("a",{attrs:{href:e.url,download:"File"}},[n("q-icon",{attrs:{name:"attachment",size:"36px"}}),n("span",[t._v("File Attachment")])],1)]):n("section",{domProps:{innerHTML:t._s(t.renderMarkdown(e.text))}}),e.attachment.type?n("section",{staticClass:"attachment"},[n("header",[t._v(t._s(e.attachment.title))]),n("section",{staticClass:"row col-12"},[n("div",{staticClass:"col-auto"},[n("img",{attrs:{src:e.attachment.thumb}})]),n("div",{staticClass:"col q-px-md text-grey"},[n("div",[t._v(t._s(e.attachment.description))]),n("div",{staticClass:"q-mt-sm"},[t._v(t._s(e.attachment.content)+" ...")])])])]):t._e()])],1)],1)}))]}))],2)],1)},p=[],m=n("92a8"),f=n("2f62"),h=n("31d6");function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g={name:"quicknote-list",mixins:[h["a"]],data:function(){return{}},props:{qnoteMap:{type:Array}},methods:{onEdit:function(t){this.$emit("edit",t)},onRemove:function(t){this.$emit("remove",t)},onCard:function(t){this.$emit("card",t)},onPreview:function(t){this.$emit("preview",t)}},computed:v({},Object(f["c"])({})),watch:{},mounted:function(){},components:{OQnoteMenu:m["a"]}},w=g,y=(n("570e"),n("2877")),q=Object(y["a"])(w,d,p,!1,null,null,null),O=q.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"row quicknote-cards "},[t._l(t.qnoteMap,(function(e,o){return[n("div",{key:o,staticClass:"col-12",staticStyle:{position:"relative",width:"100%",height:"50px","margin-top":"20px"}},[n("div",{staticClass:"o-date-divider"},[n("hr"),n("div",{staticClass:"o-date-wrapper"},[n("span",[t._v(t._s(e.date))])])])]),t._l(e.list,(function(e){return n("div",{key:e.id,staticClass:"col-lg-3 col-md-3 col-sm-12 col-xs-12"},[n("q-card",{staticClass:"shadow-1 text-blue-grey",attrs:{square:""}},[n("q-card-section",{staticClass:"row justify-between items-center o-card-title"},[n("div",[n("q-icon",{attrs:{name:t.typeClass(e.type),size:"1.5rem"}}),n("span",[t._v(t._s(t.typeText(e.type)))])],1),n("q-btn",{attrs:{icon:"menu",color:"blue-grey-3",flat:""}},[n("q-menu",{ref:"menuPopover",refInFor:!0,staticClass:"shadow-1",attrs:{anchor:"bottom left",self:"top left"}},[n("div",{staticStyle:{"min-width":"200px"}},[n("o-qnote-menu",{attrs:{data:e},on:{edit:t.onEdit,remove:t.onRemove,card:t.onCard,preview:t.onPreview,mark:t.markQNote}})],1)])],1)],1),n("q-card-section",{staticClass:"text-blue-grey-9 qnote-content",class:"bg-"+t.colorName(e)+"-2"},["IMAGE"===t.typeText(e.type)?n("section",{staticClass:"row justify-center"},[n("section",{staticClass:"type-image self-center"},[n("img",{attrs:{src:e.url,alt:e.text,title:e.text},on:{dblclick:function(n){return t.onPreview(e)}}})])]):"VIDEO"===t.typeText(e.type)?n("section",{staticClass:"type-video"},[n("video",{attrs:{src:e.url,controls:"controls",width:"100%",height:"90%"},on:{dblclick:function(n){return t.onPreview(e)}}})]):"FILE"===t.typeText(e.type)?n("section",{staticClass:"type-link"},[n("a",{staticClass:"text-primary",attrs:{href:e.url,download:"File"}},[n("q-icon",{attrs:{name:"attachment",size:"36px"}}),n("span",[t._v("File Attachment")])],1)]):n("section",{staticClass:"text-container",domProps:{innerHTML:t._s(t.renderMarkdown(e.text))}})]),n("q-card-actions",{staticClass:"o-actions",attrs:{align:"between"}},[n("q-btn",{attrs:{flat:"",color:"grey-6"}},[t._v(t._s(t._f("formatTime")(e.addtime,"{h}:{i}"))+"\n            "),n("q-tooltip",{staticClass:"o-tooltip",attrs:{anchor:"top middle",self:"bottom middle",offset:[0,8]}},[t._v("\n              "+t._s(e.addtime)+"\n            ")])],1),n("q-btn",{attrs:{flat:"",color:t.colorName(e),icon:"brightness_1"}})],1)],1)],1)}))]}))],2)},_=[];function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P={name:"quicknote-cards",mixins:[h["a"]],data:function(){return{}},props:{qnoteMap:{type:Array}},methods:{onEdit:function(t){this.$emit("edit",t)},onRemove:function(t){this.$emit("remove",t)},onCard:function(t){this.$emit("card",t)},onPreview:function(t){this.$emit("preview",t)}},computed:x({},Object(f["c"])({})),watch:{},mounted:function(){},components:{OQnoteMenu:m["a"]}},j=P,T=(n("358c"),Object(y["a"])(j,C,_,!1,null,null,null)),S=T.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"quicknote-timeline "},[n("q-timeline",{attrs:{layout:"comfortable"}},[t._l(t.qnoteMap,(function(e,o){return[n("q-timeline-entry",{key:o,attrs:{heading:""}},[t._v("\n        "+t._s(e.date)+"\n      ")]),t._l(e.list,(function(e,o){return n("q-timeline-entry",{key:e.id,attrs:{side:o%2===0?"left":"right",color:t.colorName(e),icon:t.typeClass(e.type)},scopedSlots:t._u([{key:"subtitle",fn:function(){return[n("div",{staticClass:"row justify-between items-center"},[n("div",[n("span",[t._v(t._s(t.timeMulti(e.addtime,"HH:mm").timestamp))]),n("q-tooltip",{staticClass:"o-tooltip",attrs:{anchor:"top middle",self:"bottom middle",offset:[0,0]}},[t._v("\n                "+t._s(e.addtime)+"\n              ")])],1),n("q-btn",{staticClass:"menu",attrs:{icon:"mdi-circle-edit-outline",flat:"",round:""}},[n("q-menu",{ref:"menuPopover",refInFor:!0,staticClass:"shadow-1",attrs:{anchor:"bottom left",self:"top left"}},[n("div",{staticStyle:{"min-width":"200px"}},[n("o-qnote-menu",{attrs:{data:e},on:{edit:t.onEdit,remove:t.onRemove,card:t.onCard,preview:t.onPreview,mark:t.markQNote}})],1)])],1)],1)]},proxy:!0},{key:"title",fn:function(){return[n("q-item-label",["IMAGE"===t.typeText(e.type)?n("section",{staticClass:"type-image"},[n("img",{attrs:{src:e.url,alt:e.text,title:e.text},on:{dblclick:function(n){return t.onPreview(e)}}})]):"VIDEO"===t.typeText(e.type)?n("section",{staticClass:"type-video"},[n("video",{attrs:{src:e.url,controls:"controls",width:"100%",height:"90%"},on:{dblclick:function(n){return t.onPreview(e)}}})]):"FILE"===t.typeText(e.type)?n("section",{staticClass:"type-link"},[n("a",{attrs:{href:e.url,download:"File"}},[n("q-icon",{attrs:{name:"attachment",size:"36px"}}),n("span",[t._v("File Attachment")])],1)]):n("section",{domProps:{innerHTML:t._s(t.renderMarkdown(e.text))}})])]},proxy:!0}],null,!0)},[n("div",[n("q-item-label",[e.attachment.type?n("section",{staticClass:"attachment"},[n("header",[t._v(t._s(e.attachment.title))]),n("section",{staticClass:"row col-12"},[n("div",{staticClass:"col-auto"},[n("img",{attrs:{src:e.attachment.thumb}})]),n("div",{staticClass:"col q-px-md text-grey"},[n("div",[t._v(t._s(e.attachment.description))]),n("div",{staticClass:"q-mt-sm"},[t._v(t._s(e.attachment.content)+" ...")])])])]):t._e()])],1)])}))]}))],2)],1)},D=[];function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Q={name:"quicknote-timeline",mixins:[h["a"]],data:function(){return{}},props:{qnoteMap:{type:Array}},methods:{onEdit:function(t){this.$emit("edit",t)},onRemove:function(t){this.$emit("remove",t)},onCard:function(t){this.$emit("card",t)},onPreview:function(t){this.$emit("preview",t)}},computed:M({},Object(f["c"])({})),watch:{},mounted:function(){},components:{OQnoteMenu:m["a"]}},N=Q,I=(n("89ef"),Object(y["a"])(N,E,D,!1,null,null,null)),A=I.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"row col-12 quicknote-guide"},[n("section",{staticClass:"row col-12 justify-center"},[n("q-card",{staticClass:"col-10 guide-card"},[n("q-card-section",{staticClass:"title"},[t._v("\n        快速笔记\n      ")]),n("q-separator"),n("q-card-section",[n("o-display-btn",{attrs:{icon:"reorder","btn-class":"bg-indigo text-white"}},[t._v("\n          快速创建笔记\n        ")]),n("o-display-btn",{attrs:{icon:"apps","btn-class":"bg-green text-white"}},[t._v("\n          文字、链接、图片或文件\n        ")]),n("o-display-btn",{attrs:{icon:"mdi-timeline-text","btn-class":"bg-blue text-white"}},[t._v("\n          自带时间戳，形成时间线，构建上下文\n        ")]),n("o-display-btn",{attrs:{icon:"mdi-content-copy"}},[t._v("\n          复制粘贴(Ctrl+V)直接创建一条笔记\n        ")]),n("o-display-btn",{attrs:{icon:"mdi-link","btn-class":"bg-amber text-white"}},[t._v("\n          网页链接，自动解析网页摘要\n        ")]),n("o-display-btn",{attrs:{icon:"mdi-radiobox-marked","btn-class":"bg-purple text-white"}},[t._v("\n          标记不同颜色，快速定位查找\n        ")]),n("o-display-btn",{attrs:{icon:"remove_red_eye","btn-class":"bg-blue-grey text-white"}},[t._v("\n          列表、卡片和时间线三种视图查看\n        ")])],1),n("q-separator"),0===t.qnoteSize?n("q-card-section",[n("q-chip",{attrs:{color:"blue","text-color":"white",icon:"bookmark",square:""}},[t._v("\n          "+t._s(t.currentQTag.name)+"\n        ")]),t._v("\n        创建于 "+t._s(t.timeMulti(t.currentQTag.addtime).timestamp)+"，暂无记录，快来创建一条笔记吧。\n      ")],1):n("q-card-section",{staticClass:"row items-center"},[n("q-chip",{attrs:{color:"blue","text-color":"white",round:""}},[n("q-avatar",{attrs:{icon:"bookmark",color:t.currentColor.name,"text-color":"white"}}),t._v("\n          "+t._s(t.currentQTag.name)+"\n        ")],1),t._v("\n        创建于 "+t._s(t.timeMulti(t.currentQTag.addtime).timestamp)+"， "),n("q-avatar",{attrs:{color:t.currentColor.name,size:"1.5rem"}}),t._v("标记暂无记录，切换其它标记试试。\n      ")],1)],1)],1)])},R=[],L=(n("c5f6"),n("d9ef"));function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var H={name:"quicknote-guide",mixins:[h["a"]],data:function(){return{}},props:{qnoteSize:{type:Number,default:0}},methods:{},computed:G({},Object(f["c"])({currentColor:"currentColor"})),watch:{},mounted:function(){},components:{OQnoteMenu:m["a"],ODisplayBtn:L["a"]}},V=H,B=(n("9f27"),Object(y["a"])(V,F,R,!1,null,null,null)),U=B.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{ref:"modal",staticClass:"sidePanel",attrs:{position:"right",maximized:"",seamless:"",square:"","content-class":"quicknote-side-panel"},on:{show:function(e){return t.$emit("show")},hide:function(e){return t.$emit("close")}}},[n("q-layout",{staticClass:"bg-secondary",staticStyle:{width:"50%","min-width":"400px"},attrs:{view:"lhh lpR fff"}},[n("q-header",{staticClass:"bg-secondary"},[n("q-toolbar",[n("q-toolbar-title",[n("section",{staticClass:"row col-12"},[n("q-tabs",{ref:"tabs",staticClass:"bg-secondary text-text",attrs:{align:"left","inline-label":""},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.tabs,(function(t,e){return n("q-tab",{key:e,attrs:{name:t.value,label:t.label}})})),1)],1)]),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-text",attrs:{icon:"close",flat:"",round:"",dense:""}})],1)],1),n("q-page-container",[n("q-page",[n("section",{staticClass:"content-container themed"},[n("section",{directives:[{name:"show",rawName:"v-show",value:"basic"==t.currentTab,expression:"currentTab=='basic'"}],staticClass:"col-12"},[n("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[n("q-item-label",{staticClass:"text-uppercase text-blue-grey-5 q-pa-md"},[t._v(t._s(t.$t("label.basic")))]),n("o-common-item",{attrs:{icon:"title",label:t.currentQTag.name}}),n("o-common-item",{attrs:{icon:"access_time",label:t.timeMulti(t.currentQTag.addtime).timestamp}})],1),n("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[n("q-item-label",{staticClass:"text-uppercase text-blue-grey-5 q-pa-md"},[t._v(t._s(t.$t("label.help")))]),t._e(),n("o-common-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"mdi-tooltip-text",label:t.$t("tour")},nativeOn:{click:function(e){return t.action("M_SET_TOUR_ACTION","quicknote")}}}),n("o-common-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"book",label:t.$t("action.guide")},nativeOn:{click:function(e){return t.onAction("action-guide")}}})],1)],1),n("section",{directives:[{name:"show",rawName:"v-show",value:"toc"==t.currentTab,expression:"currentTab=='toc'"}],staticStyle:{width:"100%",height:"100%"}},[n("q-scroll-area",{ref:"tocScroll",staticStyle:{width:"100%",height:"100%"}},[n("q-tree",{ref:"tocTree",staticClass:"themed",attrs:{nodes:t.tocTree,selected:t.selectedTocItem,"node-key":"key","default-expand-all":"",color:"text",id:"tocTree"},on:{"update:selected":function(e){t.selectedTocItem=e}},nativeOn:{click:function(e){return t.onTocClick()}},scopedSlots:t._u([{key:"header-heading",fn:function(e){return n("div",{staticClass:"row items-center",attrs:{"data-source-line":e.node.heading.lineNumber}},[n("div",{},[t._v(t._s(e.node.label))])])}}])})],1)],1)])])],1)],1)],1)},W=[],K=n("916d"),X=n("f5a7");function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var tt={name:"quicknote-side-panel",mixins:[X["a"],h["a"]],data:function(){return{currentTab:"basic",selectedTocItem:""}},props:{show:{type:Boolean,default:!1}},components:{OCommonItem:K["a"]},computed:Z({},Object(f["c"])({currentQTag:"currentQTag",tocTree:"toc"}),{tabs:function(){return[{label:this.$t("label.basic"),value:"basic",icon:"info"},{label:this.$t("label.toc"),value:"toc",icon:"format_align_justify"}]}}),methods:Z({},Object(f["b"])({setSettingItem:"A_SET_SETTING_ITEM"}),{onAction:function(t,e){t=(new Date).getTime()+"|"+t,e&&(t+="|"+e),this.$store.commit("SET_QNOTE_ACTION",t)},onTabChanged:function(){},onSettingChange:function(t,e){switch(e){case"uiTheme":this.setTheme(t,!1);break}this.setSettingItem({key:e,value:t})},onTocClick:function(){this.selectedTocItem&&this.onAction("markdown-toc-line",this.selectedTocItem)},onRoute:function(t,e){}}),watch:{$route:function(t,e){this.onRoute(t,e)},show:function(t,e){t?this.$refs.modal.show():this.$refs.modal.hide()}},mounted:function(){this.show&&this.$refs.modal.show()}},et=tt,nt=(n("e912"),Object(y["a"])(et,J,W,!1,null,null,null)),ot=nt.exports,it=n("ed08"),at=n("5f87"),st=n("a43c"),rt=n("8f85");function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ut={name:"quicknote",mixins:[h["a"]],data:function(){return{view:"list",sidePanel:!1}},components:{OFileUpload:c["a"],OSideDialog:l["a"],QnoteMarkdownEditor:u["a"],QuicknoteList:O,QuicknoteCards:S,QuicknoteTimeline:A,QuicknoteGuide:U,QuicknoteSidePanel:ot},filters:{formatTime:function(t,e){return Object(it["a"])(t,e)}},methods:{handleAction:function(t){switch(t){case"view-list":this.view="list";break;case"view-card":this.view="card";break;case"view-timeline":this.view="timeline";break;case"action-guide":console.log(t),Object(rt["a"])({type:"quicknote-guide"});break;case"action-paste":this.onPasteContent();break;case"quicknote-side-panel":this.showSidePanel(!0);break}},queryQNote:function(t){var e=this;return new Promise((function(n,o){var i=[],a={operation:"",pagesize:50,index:0,condition:{uid:Object(at["e"])(),qtag:e.qtag}};"refresh"===t?(a.operation="2",a.index=e.pageIndex):(a.operation="0",e.pullable=!0,e.quicknotes=[]),"all"===e.qtag&&(a.condition.qtag=""),e.pullable?Object(st["d"])(a).then((function(o){e.requested=!0,o.data.length>0?(i=o.data.sort(e.sortQNoteByIndex),"refresh"===t&&(i=i.concat(e.quicknotes)),e.quicknotes=i,e.pullable=!0,e.pageIndex=i[0].index):e.pullable=!1,n(i)})).catch((function(t){o(t)})):n(i)}))},loadQNotes:function(t){var e=this,n="latest"===t?0:this.scrollHeight();this.showProgress=!0,this.queryQNote(t).then((function(t){e.showProgress=!1;var o=e;r["a"].nextTick((function(){if(t&&t.length>0){var e=o.scrollHeight();o.$store.commit("SET_QNOTE_TOPID");var i=e-n;i<=0&&(i=100),o.scrollTo(i)}o.groupByDate(o.qnoteList)}))})).catch((function(t){e.showProgress=!1,console.warn(t.message)}))},onScroll:function(t){var e=this;this.isScrolled&&0===t.position&&"up"===t.direction&&(this.showProgress=!0,setTimeout((function(){e.loadQNotes("refresh")}),1e3)),this.isScrolled=!0},showSidePanel:function(t){this.sidePanel=t},onSidePanelShow:function(){},onSidePanelClose:function(){this.showSidePanel(!1)},onRoute:function(t,e){this.isScrolled=!1,"quicknote"===t.name?this.qtag="all":"qtag"===t.name&&(this.qtag=t.params.id,this.initQtag(this.qtag)),"quicknote"!==t.name&&"qtag"!==t.name||(this.requested=!1,0===this.quicknotes.length||e&&("quicknote"===e.name||"qtag"===e.name)?this.loadQNotes("latest"):this.scrollTo(0))}},computed:lt({},Object(f["c"])({}),{qnoteList:function(){return this.quicknotes.filter(this.filterQTag).filter(this.filterColor).filter(this.filterSearch)},qnoteMap:function(){return this.groupByDate(this.qnoteList)}}),watch:{$route:function(t,e){console.log("route",t.name,e.name),this.onRoute(t,e)},qnoteAction:function(t,e){var n,o,i=t.split("|");i.length>=1&&(n=i[1]),i.length>=2&&(o=i[2]),this.handleAction(n,o)}},mounted:function(){this.onRoute(this.$route)}},dt=ut,pt=(n("48db"),Object(y["a"])(dt,o,i,!1,null,null,null));e["default"]=pt.exports},"358c":function(t,e,n){"use strict";var o=n("f0db"),i=n.n(o);i.a},"385d":function(t,e,n){},"48db":function(t,e,n){"use strict";var o=n("385d"),i=n.n(o);i.a},"570e":function(t,e,n){"use strict";var o=n("0a60"),i=n.n(o);i.a},7709:function(t,e,n){},"89ef":function(t,e,n){"use strict";var o=n("7709"),i=n.n(o);i.a},"9f27":function(t,e,n){"use strict";var o=n("1d8c"),i=n.n(o);i.a},ce3d:function(t,e,n){},e912:function(t,e,n){"use strict";var o=n("ce3d"),i=n.n(o);i.a},f0db:function(t,e,n){}}]);